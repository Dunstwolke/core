<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="/style.css">
  <title>DunstFS</title>
</head>

<body lang="en">

  <div id="topbar">
    <nav>
      <ul>
        <li><b>DunstFS</b></li>
        <li><a href="/">Files</a></li>
        <li><a href="/settings">Settings</a></li>
      </ul>
    </nav>
  </div>

  <div id="bottom">
    <? if(@TypeOf(context).features.any()) { ?>
    <div id="sidebar">
      <? if(@TypeOf(context).features.search) { ?>
      <h1>Filter:</h1>
      <form id="searchbox" method="GET">
      <input type="text" name="filter" value="<? try output.writeAll(context.getSearch()); ?>">
      </form>
      <? } ?>
      &nbsp;
      <? if(@TypeOf(context).features.tags) { ?>
      <h1>Tags:</h1>
      <ul class="taglist">
        <? for(context.getTags()) |tag| {  ?>
        <li><a href="">+</a><a href="">-</a> <a href="?filter=<? try output.writeAll(tag); ?>"><? try output.writeAll(tag); ?></a></li>
        <? } ?>
      </ul>
      <? } ?>
      &nbsp;
      <? if(@TypeOf(context).features.upload) { ?>
      <h1>Upload:</h1>
      <form id="uploadbox" method="POST" action="/create">
        <div class="dropfield">
          <input type="file" name="data" >
          <span>Drag file hereâ€¦</span>
        </div>
        <button type="submit" name="create">Create</button>
      </form>
      <? } ?>
    </div>
    <? } ?>

    <? try context.renderContent(output); ?>
  </div>
</body>

</html>
